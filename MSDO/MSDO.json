{
  "workbook": {
    "metadata": {},
    "config": {},
    "id": "0c156760-fb66-11ef-adac-9371f7c22665",
    "name": "Multiple Supple Demand Optimization",
    "description": "",
    "user_id": "77cbefd0-c073-11ee-84f7-0d56c35f6113",
    "warehouse_id": null,
    "is_example": false,
    "is_shared": false,
    "created_at": "2022-07-27T19:52:57.403Z",
    "updated_at": "2025-03-07T15:29:18.645Z",
    "userId": "77cbefd0-c073-11ee-84f7-0d56c35f6113"
  },
  "worksheets": [
    {
      "config": {
        "chat_messages": []
      },
      "id": "0c184d90-fb66-11ef-adac-9371f7c22665",
      "name": "Introduction",
      "description": "Description for sheet 3",
      "previous_worksheet_id": null,
      "next_worksheet_id": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
      "workbook_id": "0c156760-fb66-11ef-adac-9371f7c22665",
      "created_at": "2023-11-01T16:21:25.264Z",
      "updated_at": "2025-03-07T15:08:39.836Z",
      "workbookId": "0c156760-fb66-11ef-adac-9371f7c22665"
    },
    {
      "config": {
        "chat_messages": []
      },
      "id": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
      "name": "Data",
      "description": "Description for sheet 4",
      "previous_worksheet_id": "0c184d90-fb66-11ef-adac-9371f7c22665",
      "next_worksheet_id": "0c8a7050-fb66-11ef-adac-9371f7c22665",
      "workbook_id": "0c156760-fb66-11ef-adac-9371f7c22665",
      "created_at": "2023-11-01T16:50:16.647Z",
      "updated_at": "2025-03-07T15:17:15.366Z",
      "workbookId": "0c156760-fb66-11ef-adac-9371f7c22665"
    },
    {
      "config": {
        "chat_messages": []
      },
      "id": "0c8a7050-fb66-11ef-adac-9371f7c22665",
      "name": "MSDO",
      "description": "Description for sheet 5",
      "previous_worksheet_id": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
      "next_worksheet_id": "0c91c350-fb66-11ef-adac-9371f7c22665",
      "workbook_id": "0c156760-fb66-11ef-adac-9371f7c22665",
      "created_at": "2023-11-02T02:33:07.353Z",
      "updated_at": "2025-03-07T15:17:59.419Z",
      "workbookId": "0c156760-fb66-11ef-adac-9371f7c22665"
    },
    {
      "config": {
        "chat_messages": []
      },
      "id": "0c91c350-fb66-11ef-adac-9371f7c22665",
      "name": "TSM Mode",
      "description": "Description for sheet 6",
      "previous_worksheet_id": "0c8a7050-fb66-11ef-adac-9371f7c22665",
      "next_worksheet_id": null,
      "workbook_id": "0c156760-fb66-11ef-adac-9371f7c22665",
      "created_at": "2023-11-02T03:17:44.235Z",
      "updated_at": "2025-03-07T15:23:13.821Z",
      "workbookId": "0c156760-fb66-11ef-adac-9371f7c22665"
    }
  ],
  "blockMap": {
    "0c184d90-fb66-11ef-adac-9371f7c22665": [
      {
        "config": {},
        "id": "0c3dd6f0-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "{}",
        "previous_block_id": null,
        "next_block_id": "0c6953c0-fb66-11ef-adac-9371f7c22665",
        "block_type_id": "016d9471-1913-4c85-894a-101e82909fd3",
        "worksheet_id": "0c184d90-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-01T16:23:08.636Z",
        "updated_at": "2025-03-07T15:08:38.534Z",
        "worksheetId": "0c184d90-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "016d9471-1913-4c85-894a-101e82909fd3"
      },
      {
        "config": {},
        "id": "0c6953c0-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"This SQL workbook showcases how to leverage Kinetica’s Multiple Supply Demand Optimization (MSDO) Graph Solver, a powerful tool designed for complex, routing optimization. The workbook walks you through a scenario involving 18 customers and 12 trucks with variable capacities, originating from 2 supply depots in the Washington DC area. Unlike traditional solvers, the MSDO solver considers a multitude of constraints, such as package volume, truck capacity, and even time penalties, to find the optimal route for each truck. \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"The workbook is divided into three main sections:\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"- Data setup, where we prepare the data sources, tables, and a graph representation of the Washington DC road network.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"- Optimal route calculation using the MSDO solver and expalnation of options that can be used in a MSDO solver.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"- Optimal route calculation using the MSDO solver's TSM(Travelling salesman mode) option.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"HOW TO RUN?\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"All the steps and instructions are provided within the workbook itself. \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"To ensure successful execution of the workbook, it is essential to adhere to the prescribed order of blocks and sheets. We will create all the necessary data sources and download the required data into our workbook.\"}]}]",
        "previous_block_id": "0c3dd6f0-fb66-11ef-adac-9371f7c22665",
        "next_block_id": null,
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "0c184d90-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-01T16:26:52.920Z",
        "updated_at": "2025-03-07T15:08:38.542Z",
        "worksheetId": "0c184d90-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      }
    ],
    "0c6e5cd0-fb66-11ef-adac-9371f7c22665": [
      {
        "config": {},
        "id": "0c6f6e40-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"CREATE THE DATA SOURCES\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"We will be using one data source for this example to retrieve data about our suppliers, customers, and spatial data that will be used to create road network graph that will be used in this workbook.\"}]}]",
        "previous_block_id": null,
        "next_block_id": "0c71b830-fb66-11ef-adac-9371f7c22665",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-01T16:50:33.454Z",
        "updated_at": "2025-03-07T15:08:38.665Z",
        "worksheetId": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "0c70a6c0-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"\"",
        "previous_block_id": "0c6f6e40-fb66-11ef-adac-9371f7c22665",
        "next_block_id": null,
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-01T16:50:52.344Z",
        "updated_at": "2025-03-07T15:08:38.671Z",
        "worksheetId": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "0c71b830-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"CREATE OR REPLACE DATA SOURCE msdo_example\\nLOCATION = 'S3'\\nWITH OPTIONS (\\n    ANONYMOUS = 'true',\\n    BUCKET NAME = 'kinetica-examples-data-public',\\n    REGION = 'us-east-1'\\n);\"",
        "previous_block_id": "0c6f6e40-fb66-11ef-adac-9371f7c22665",
        "next_block_id": "0c747750-fb66-11ef-adac-9371f7c22665",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-01T16:51:46.185Z",
        "updated_at": "2025-03-07T15:09:03.567Z",
        "worksheetId": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "0c733ed0-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"DROP TABLE IF EXISTS washington_dc_area;\\nLOAD DATA INTO washington_dc_area \\nFROM FILE PATHS 'dc/dc_roads.csv'\\nFORMAT TEXT \\nWITH OPTIONS (\\n    DATA SOURCE = 'msdo_example'\\n);\\n\\nDROP TABLE IF EXISTS customers;\\nLOAD DATA INTO customers \\nFROM FILE PATHS 'dc/demands_2.csv'\\nFORMAT TEXT \\nWITH OPTIONS (\\n    DATA SOURCE = 'msdo_example'\\n);\\n\\nDROP TABLE IF EXISTS suppliers;\\nLOAD DATA INTO suppliers \\nFROM FILE PATHS 'dc/supplies_2.csv'\\nFORMAT TEXT \\nWITH OPTIONS (\\n    DATA SOURCE = 'msdo_example'\\n);\"",
        "previous_block_id": "0c747750-fb66-11ef-adac-9371f7c22665",
        "next_block_id": "0c7dc620-fb66-11ef-adac-9371f7c22665",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-01T16:52:02.912Z",
        "updated_at": "2025-03-07T15:09:09.992Z",
        "worksheetId": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "0c747750-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"bold\":true,\"text\":\"LOAD DATA\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"In the next step, we will load the spatial data, customers, and suppliers into tables. \"}]}]",
        "previous_block_id": "0c71b830-fb66-11ef-adac-9371f7c22665",
        "next_block_id": "0c733ed0-fb66-11ef-adac-9371f7c22665",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-01T16:56:25.146Z",
        "updated_at": "2025-03-07T15:08:38.690Z",
        "worksheetId": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "0c7588c0-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"CREATE A GRAPH REPRESENTATION OF THE DC AREA ROAD NETWORK\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"The following block of code creates a graph of the road network in an around Washtington DC. To do this, first we need to load spatial data that represents the road network. This spatial data contains WKT lines for different road segments in DC along with the direction of travel and the time it takes to traverse that segment. When we create a graph using this road network data, under the hood Kinetica converts each spatial line representing a road segment into a directed edge with an associated weight. The weight in this case is the time for traversing that segment. \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Kinetica uses a native representation for storing graph data. However, we can set an additional option in the create graph query that stores a relational representation of a graph object. In the query we have set that to washington_dc_area. We can use this table to visualize this graph on a map as shown below.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"For more information on Kinetica's graph API please refer to the following playlist: \"},{\"underline\":true,\"text\":\"https://www.youtube.com/watch?v=wUpeZbzbK4Y&list=PLtLChx8K0ZZVkufn1GMvsR3BY2jMP3JXD\"}]}]",
        "previous_block_id": "0c7dc620-fb66-11ef-adac-9371f7c22665",
        "next_block_id": "0c79f590-fb66-11ef-adac-9371f7c22665",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-01T16:59:41.064Z",
        "updated_at": "2025-03-07T15:08:38.697Z",
        "worksheetId": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "0c769a30-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"\"",
        "previous_block_id": "0c7588c0-fb66-11ef-adac-9371f7c22665",
        "next_block_id": null,
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-01T16:59:43.612Z",
        "updated_at": "2025-03-07T15:08:38.703Z",
        "worksheetId": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "0c77aba0-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"CREATE OR REPLACE DIRECTED GRAPH dc \\n    (EDGES => INPUT_TABLE (\\n        SELECT  id  AS ID,\\n            wkt AS WKTLINE,                                            \\n            dir AS DIRECTION,\\n            time  AS WEIGHT_VALUESPECIFIED\\n        FROM dc\\n    ),\\n    OPTIONS => KV_PAIRS\\n    ( \\n        graph_table = 'dc_graph_table'\\n    )\\n);\"",
        "previous_block_id": "0c7588c0-fb66-11ef-adac-9371f7c22665",
        "next_block_id": null,
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-01T17:09:07.127Z",
        "updated_at": "2025-03-07T15:08:38.710Z",
        "worksheetId": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "0c78bd10-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"\"",
        "previous_block_id": "0c7588c0-fb66-11ef-adac-9371f7c22665",
        "next_block_id": null,
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-01T17:11:21.753Z",
        "updated_at": "2025-03-07T15:08:38.716Z",
        "worksheetId": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "0c79f590-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"CREATE OR REPLACE DIRECTED GRAPH dc \\n    (EDGES => INPUT_TABLE (\\n        SELECT  id  AS ID,\\n            wkt AS WKTLINE,                                            \\n            dir AS DIRECTION,\\n            time  AS WEIGHT_VALUESPECIFIED\\n        FROM washington_dc_area),\\n        OPTIONS => KV_PAIRS\\n        ( \\n            graph_table = 'dc_graph_table',\\n            add_turns = 'true'\\n        )\\n    );\"",
        "previous_block_id": "0c7588c0-fb66-11ef-adac-9371f7c22665",
        "next_block_id": "0c7b0700-fb66-11ef-adac-9371f7c22665",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-01T17:11:47.016Z",
        "updated_at": "2025-03-07T15:11:48.008Z",
        "worksheetId": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "0c7b0700-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"table_schema\":\"\",\"table_name\":\"dc_graph_table\",\"geometry_type\":\"wkt\",\"wkt\":\"EDGE_WKTLINE\",\"renderType\":\"raster\",\"fillColor\":\"ca2c92\",\"borderColor\":\"3700b3\",\"pointSize\":1,\"lineWidth\":1,\"center_longitude\":-77.1385,\"center_latitude\":39.0084,\"zoom_level\":11.102517986526976,\"opacity\":70,\"title\":\"Washington DC Road Network Area\",\"block_height\":535,\"auto_refresh_interval\":5,\"basemap_style\":\"grayscale\",\"overrides\":\"\"}]",
        "previous_block_id": "0c79f590-fb66-11ef-adac-9371f7c22665",
        "next_block_id": null,
        "block_type_id": "e8ccc4e2-793f-47ed-9af2-f0a58a840006",
        "worksheet_id": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-02T02:26:59.990Z",
        "updated_at": "2025-03-07T15:17:58.138Z",
        "worksheetId": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "e8ccc4e2-793f-47ed-9af2-f0a58a840006"
      },
      {
        "config": {},
        "id": "0c7dc620-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"table_schema\":\"\",\"table_name\":\"customers\",\"geometry_type\":\"wkt\",\"wkt\":\"wkt\",\"renderType\":\"raster\",\"fillColor\":\"000003ff\",\"borderColor\":\"3700b3\",\"pointSize\":5,\"lineWidth\":2,\"center_longitude\":-77.0769,\"center_latitude\":38.9668,\"zoom_level\":10.29,\"opacity\":70,\"title\":\"Customer & Depot Locations (Customers: ⚫️   Depots: 🔴)\",\"block_height\":535,\"auto_refresh_interval\":5,\"basemap_style\":\"grayscale\",\"overrides\":\"\"},{\"table_schema\":\"\",\"table_name\":\"suppliers\",\"geometry_type\":\"wkt\",\"wkt\":\"wkt\",\"renderType\":\"raster\",\"fillColor\":\"a00f1eff\",\"borderColor\":\"3700b3\",\"pointSize\":8,\"lineWidth\":2,\"opacity\":100,\"auto_refresh_interval\":\"\",\"overrides\":\"\"}]",
        "previous_block_id": "0c733ed0-fb66-11ef-adac-9371f7c22665",
        "next_block_id": "0c7588c0-fb66-11ef-adac-9371f7c22665",
        "block_type_id": "e8ccc4e2-793f-47ed-9af2-f0a58a840006",
        "worksheet_id": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-02T02:27:11.104Z",
        "updated_at": "2025-03-07T15:17:42.497Z",
        "worksheetId": "0c6e5cd0-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "e8ccc4e2-793f-47ed-9af2-f0a58a840006"
      }
    ],
    "0c8a7050-fb66-11ef-adac-9371f7c22665": [
      {
        "config": {},
        "id": "0c8ba8d0-fb66-11ef-adac-9371f7c22665",
        "name": "Block 1",
        "description": "Description for Block 1",
        "content": "\"DROP TABLE IF EXISTS dc_msdo;\\nEXECUTE FUNCTION MATCH_GRAPH\\n(\\n    GRAPH => 'dc',\\n    SAMPLE_POINTS => INPUT_TABLES\\n    (\\n        (\\n            SELECT \\n                id AS DEMAND_ID,\\n                wkt AS DEMAND_WKTPOINT,\\n                size AS DEMAND_SIZE,\\n                depot AS DEMAND_DEPOT_ID\\n            FROM customers\\n        ),\\n        (\\n            SELECT \\n                depot AS SUPPLY_DEPOT_ID,\\n                wkt AS SUPPLY_WKTPOINT,\\n                truck_id AS SUPPLY_TRUCK_ID,\\n                truck_size AS SUPPLY_TRUCK_SIZE\\n            FROM suppliers\\n        )\\n    ),\\n    SOLVE_METHOD   => 'match_supply_demand',\\n    SOLUTION_TABLE => 'dc_msdo',\\n    OPTIONS => KV_PAIRS\\n    ( \\n        output_tracks = 'true',\\n        aggregated_output   = 'false',\\n        svg_width = '400', svg_height = '600',\\n        svg_speed = '500',svg_basemap = 'true', \\n        timeout= '80',\\n        left_turn_penalty = '35',\\n        right_turn_penalty = '15',\\n        intersection_penalty = '40',\\n        sharp_turn_penalty = '10',\\n        unit_unloading_cost = '60'\\n        --enable_reuse = 'true',\\n        --service_limit = '12000'\\n    )\\n);\"",
        "previous_block_id": "0c8cba40-fb66-11ef-adac-9371f7c22665",
        "next_block_id": "0c8dcbb0-fb66-11ef-adac-9371f7c22665",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "0c8a7050-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-02T02:33:07.505Z",
        "updated_at": "2025-03-07T15:15:42.117Z",
        "worksheetId": "0c8a7050-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "0c8cba40-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"HOW DOES A MSDO SOLVER WORK?\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"An MSDO solver takes the following inputs - a graph network, supply and demand points. It uses these to find the best routes between supply and demand points based on the constraints and costs associated with each of them.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"- A demand point can have up to two constraints and a cost factor associated with it. In the current case one constraint is the total volume of packages at each customer location. \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"- A supply vehicle can have up to two constraints associated with it. In our case, each supply truck is constrained on the total volume it can carry.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"SOLVER SPECIFICATION\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"For the \\\"solve_method\\\" section, we opt for \\\"match_supply_demand,\\\" indicating that our solver will find the most optimized route in the MSDO concept. The output of the solver is stored in the \\\"solution_table\\\", which is set to the dc_msdo in the following query. \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"OPTIONAL PARAMETERS\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"The MSDO solver can also take a set of optional parameters. These include the following.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Left Turn Penalty:\",\"bold\":true},{\"text\":\" Assigns a time penalty for each left turn made by the trucks.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Right Turn Penalty: \",\"bold\":true},{\"text\":\"Assigns a time penalty for each right turn made by the trucks.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Intersection Penalty: \",\"bold\":true},{\"text\":\"Assigns a time penalty for each truck that traverses intersections.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Sharp Turn Penalty: \",\"bold\":true},{\"text\":\"Assigns a time penalty for each sharp turn made by the trucks.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Unit Unloading Cost:\",\"bold\":true},{\"text\":\" Sets a cost of each unit load in the total trip cost. It becomes effective when the unit cost per load exceeds zero.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Enable Reuse: \",\"bold\":true},{\"text\":\" Suppliers have the flexibility to complete round trips more than once, as needed, if this option is enabled as \\\"true.\\\"\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Service Limit: \",\"bold\":true},{\"text\":\"Allows for the limitation of a suppliers total service cost, such as distance or time, by specifying a positive value. In this case, the cost limitation will be based on time(Seconds).\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"For more information on Kinetica's MSDO solver options please refer to the following link: \"},{\"text\":\"https://docs.kinetica.com/7.2/sql/graph/\",\"underline\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Once the solver is run, an \\\"Animate\\\" button will appear at the end of the block. Note that the \\\"output_tracks\\\" parameter has to be set to \\\"true\\\" for this to work.\"}]}]",
        "previous_block_id": null,
        "next_block_id": "0c8ba8d0-fb66-11ef-adac-9371f7c22665",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "0c8a7050-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-02T02:34:33.217Z",
        "updated_at": "2025-03-07T15:08:38.776Z",
        "worksheetId": "0c8a7050-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "0c8dcbb0-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"table_schema\":\"\",\"table_name\":\"dc_msdo\",\"geometry_type\":\"lon_lat\",\"longitude\":\"x\",\"latitude\":\"y\",\"renderType\":\"raster\",\"fillColor\":\"ca2c92\",\"pointSize\":2,\"center_longitude\":-77.0747,\"center_latitude\":38.9671,\"zoom_level\":10.29,\"opacity\":70,\"title\":\"MSDO Example Result (Customer Locations: ⚫️      Depot Locations: 🔴 )\",\"block_height\":535,\"auto_refresh_interval\":\"\",\"basemap_style\":\"grayscale\",\"overrides\":\"\"},{\"table_schema\":\"\",\"table_name\":\"suppliers\",\"geometry_type\":\"wkt\",\"wkt\":\"wkt\",\"renderType\":\"raster\",\"fillColor\":\"ac0a07ff\",\"borderColor\":\"3700b3\",\"pointSize\":8,\"lineWidth\":2,\"opacity\":70,\"auto_refresh_interval\":\"\",\"overrides\":\"\"},{\"table_schema\":\"\",\"table_name\":\"customers\",\"geometry_type\":\"wkt\",\"wkt\":\"wkt\",\"renderType\":\"raster\",\"fillColor\":\"00020bff\",\"borderColor\":\"3700b3\",\"pointSize\":5,\"lineWidth\":2,\"opacity\":70,\"auto_refresh_interval\":\"\",\"overrides\":\"\"}]",
        "previous_block_id": "0c8ba8d0-fb66-11ef-adac-9371f7c22665",
        "next_block_id": null,
        "block_type_id": "e8ccc4e2-793f-47ed-9af2-f0a58a840006",
        "worksheet_id": "0c8a7050-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-02T03:08:54.654Z",
        "updated_at": "2025-03-07T15:08:38.783Z",
        "worksheetId": "0c8a7050-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "e8ccc4e2-793f-47ed-9af2-f0a58a840006"
      }
    ],
    "0c91c350-fb66-11ef-adac-9371f7c22665": [
      {
        "config": {},
        "id": "0c92d4c0-fb66-11ef-adac-9371f7c22665",
        "name": "Block 1",
        "description": "Description for Block 1",
        "content": "\"DROP TABLE IF EXISTS dc_tsm_msdo;\\nEXECUTE FUNCTION MATCH_GRAPH\\n(\\n    GRAPH => 'dc',\\n    SOLVE_METHOD => 'match_supply_demand',\\n    SAMPLE_POINTS => INPUT_TABLES\\n    (\\n        (\\n            SELECT \\n                id AS DEMAND_ID,\\n                wkt AS DEMAND_WKTPOINT,\\n                1 AS DEMAND_SIZE,\\n                depot AS DEMAND_DEPOT_ID\\n            FROM customers\\n        ),\\n        (\\n            SELECT \\n                depot AS SUPPLY_DEPOT_ID,\\n                wkt AS SUPPLY_WKTPOINT,\\n                truck_id AS SUPPLY_TRUCK_ID,\\n                18 AS SUPPLY_TRUCK_SIZE\\n            FROM suppliers\\n        )\\n    ),\\n    SOLUTION_TABLE => 'dc_tsm_msdo',\\n    OPTIONS => KV_PAIRS\\n    ( \\n        output_tracks = 'true',\\n        svg_width = '400', svg_height = '600',\\n        svg_speed = '10',svg_basemap = 'true', \\n        timeout= '80',\\n        enable_reuse = 'true',\\n        batch_tsm_mode = 'true'\\n        \\n    )\\n);\"",
        "previous_block_id": "0c940d40-fb66-11ef-adac-9371f7c22665",
        "next_block_id": "0c98ef40-fb66-11ef-adac-9371f7c22665",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "0c91c350-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-02T03:17:44.348Z",
        "updated_at": "2025-03-07T15:25:46.676Z",
        "worksheetId": "0c91c350-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "0c940d40-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"WHAT IS BATCH TSM MODE?\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"The \\\"BATCH_TSM_MODE\\\" parameter operates with a specific focus, considering only one size attribute. Additionally, it imposes a constraint where the supplier can deliver only one unit of the package at a time to each customer location. Therefore, if a customer requires 4 units of packages, that customer will need to be visited 4 separate times to fulfill their requirement.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"To illustrate this concept, we have an example in which our suppliers will become salesmen. Our salesmen will still have the same capacity to carry packages but will only be able to deliver one unit of a package to each customer location. \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Our salesmen will be more flexible regarding size constraints, with their primary focus being to find the shortest path between customer locations. In our setup we have a total of 18 customers and 12 trucks in two zones. If we'd like to demo only one truck to do the deliveries in each zone, ie, dropping at each trip one unit (the way we can mimic using MSDO in TSM mode), then we set each customer load as one (could be more but then more trips would be needed), and each truck capaple of making the delivery to all, hence the capacity of 18. This is done just to demo the batch TSM use for MSDO solver.\"}]}]",
        "previous_block_id": "0c956cd0-fb66-11ef-adac-9371f7c22665",
        "next_block_id": "0c92d4c0-fb66-11ef-adac-9371f7c22665",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "0c91c350-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-05T22:25:02.950Z",
        "updated_at": "2025-03-07T15:29:18.634Z",
        "worksheetId": "0c91c350-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "0c956cd0-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "{}",
        "previous_block_id": null,
        "next_block_id": "0c940d40-fb66-11ef-adac-9371f7c22665",
        "block_type_id": "016d9471-1913-4c85-894a-101e82909fd3",
        "worksheet_id": "0c91c350-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-05T22:48:38.406Z",
        "updated_at": "2025-03-07T15:08:38.856Z",
        "worksheetId": "0c91c350-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "016d9471-1913-4c85-894a-101e82909fd3"
      },
      {
        "config": {},
        "id": "0c98ef40-fb66-11ef-adac-9371f7c22665",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"table_schema\":\"\",\"table_name\":\"dc_tsm_msdo\",\"geometry_type\":\"lon_lat\",\"longitude\":\"x\",\"latitude\":\"y\",\"renderType\":\"raster\",\"fillColor\":\"ca2c92\",\"pointSize\":2,\"center_longitude\":-77.0747,\"center_latitude\":38.9671,\"zoom_level\":10.29,\"opacity\":70,\"title\":\"\",\"block_height\":535,\"auto_refresh_interval\":5,\"basemap_style\":\"grayscale\",\"overrides\":\"\"},{\"table_schema\":\"ki_home\",\"table_name\":\"customers\",\"geometry_type\":\"wkt\",\"wkt\":\"wkt\",\"renderType\":\"raster\",\"fillColor\":\"070005ff\",\"borderColor\":\"3700b3\",\"pointSize\":5,\"lineWidth\":2,\"opacity\":70,\"auto_refresh_interval\":5,\"overrides\":\"\"},{\"table_schema\":\"\",\"table_name\":\"suppliers\",\"geometry_type\":\"wkt\",\"wkt\":\"wkt\",\"renderType\":\"raster\",\"fillColor\":\"b20808ff\",\"borderColor\":\"3700b3\",\"pointSize\":8,\"lineWidth\":2,\"opacity\":70,\"auto_refresh_interval\":5,\"overrides\":\"\"}]",
        "previous_block_id": "0c92d4c0-fb66-11ef-adac-9371f7c22665",
        "next_block_id": null,
        "block_type_id": "e8ccc4e2-793f-47ed-9af2-f0a58a840006",
        "worksheet_id": "0c91c350-fb66-11ef-adac-9371f7c22665",
        "created_at": "2023-11-06T04:50:04.900Z",
        "updated_at": "2025-03-07T15:19:52.000Z",
        "worksheetId": "0c91c350-fb66-11ef-adac-9371f7c22665",
        "blockTypeId": "e8ccc4e2-793f-47ed-9af2-f0a58a840006"
      }
    ]
  },
  "vizMap": {
    "0c3dd6f0-fb66-11ef-adac-9371f7c22665": [
      {
        "config": {
          "image_url": "https://www.dispatchtrack.com/hubfs/optimize-delivery-route.webp",
          "height": "400",
          "width": "",
          "alignment": "center",
          "title": ""
        },
        "id": "0c6709d0-fb66-11ef-adac-9371f7c22665",
        "name": "Image Visualization",
        "description": "Description for image visualization",
        "block_id": "0c3dd6f0-fb66-11ef-adac-9371f7c22665",
        "visualization_type_id": "61ec39b0-3295-4354-b92c-831fec4dacb3",
        "created_at": "2023-11-01T16:23:08.839Z",
        "updated_at": "2025-03-07T15:08:38.509Z",
        "blockId": "0c3dd6f0-fb66-11ef-adac-9371f7c22665",
        "visualizationTypeId": "61ec39b0-3295-4354-b92c-831fec4dacb3"
      }
    ],
    "0c6953c0-fb66-11ef-adac-9371f7c22665": [],
    "0c6f6e40-fb66-11ef-adac-9371f7c22665": [],
    "0c70a6c0-fb66-11ef-adac-9371f7c22665": [],
    "0c71b830-fb66-11ef-adac-9371f7c22665": [],
    "0c733ed0-fb66-11ef-adac-9371f7c22665": [],
    "0c747750-fb66-11ef-adac-9371f7c22665": [],
    "0c7588c0-fb66-11ef-adac-9371f7c22665": [],
    "0c769a30-fb66-11ef-adac-9371f7c22665": [],
    "0c77aba0-fb66-11ef-adac-9371f7c22665": [],
    "0c78bd10-fb66-11ef-adac-9371f7c22665": [],
    "0c79f590-fb66-11ef-adac-9371f7c22665": [],
    "0c7b0700-fb66-11ef-adac-9371f7c22665": [],
    "0c7dc620-fb66-11ef-adac-9371f7c22665": [],
    "0c8ba8d0-fb66-11ef-adac-9371f7c22665": [],
    "0c8cba40-fb66-11ef-adac-9371f7c22665": [],
    "0c8dcbb0-fb66-11ef-adac-9371f7c22665": [],
    "0c92d4c0-fb66-11ef-adac-9371f7c22665": [],
    "0c940d40-fb66-11ef-adac-9371f7c22665": [],
    "0c956cd0-fb66-11ef-adac-9371f7c22665": [
      {
        "config": {
          "image_url": "https://miro.medium.com/v2/resize:fit:2000/1*rb-su58K8YUM_qPdkTjnaw.png",
          "height": "400",
          "width": "",
          "alignment": "center",
          "title": ""
        },
        "id": "0c974190-fb66-11ef-adac-9371f7c22665",
        "name": "Image Visualization",
        "description": "Description for image visualization",
        "block_id": "0c956cd0-fb66-11ef-adac-9371f7c22665",
        "visualization_type_id": "61ec39b0-3295-4354-b92c-831fec4dacb3",
        "created_at": "2023-11-05T22:48:38.667Z",
        "updated_at": "2025-03-07T15:08:38.825Z",
        "blockId": "0c956cd0-fb66-11ef-adac-9371f7c22665",
        "visualizationTypeId": "61ec39b0-3295-4354-b92c-831fec4dacb3"
      }
    ],
    "0c98ef40-fb66-11ef-adac-9371f7c22665": []
  }
}