{
  "workbook": {
    "metadata": {
      "revision": 20230621,
      "example_id": "3fd9d237-7bc2-4ab1-903e-0405bbd5ae26",
      "features": [
        "Kafka ingest",
        "Date time functions",
        "Window functions",
        "ASOF joins",
        "Stream alerts"
      ],
      "approx_time": "15 mins",
      "legacy_name": "time_series_analysis",
      "thumbnail": "https://kinetica-workbench.s3.amazonaws.com/workbooks/examples/time_series_analysis.png"
    },
    "config": {},
    "id": "8f4e8bb0-de30-11ee-9203-0d9b172c1d7a",
    "name": "Time Series Analysis",
    "description": "Common time series functions and use cases.",
    "user_id": "fc57c850-59fe-11ed-9510-eb2ad113aef8",
    "warehouse_id": "03701da0-dd9c-11ee-9203-0d9b172c1d7a",
    "is_example": true,
    "is_shared": false,
    "created_at": "2023-01-19T18:27:39.183Z",
    "updated_at": "2024-03-09T17:11:18.241Z",
    "userId": "fc57c850-59fe-11ed-9510-eb2ad113aef8"
  },
  "worksheets": [
    {
      "config": {
        "chat_messages": []
      },
      "id": "8f4feb40-de30-11ee-9203-0d9b172c1d7a",
      "name": "Data",
      "description": "Description for Sheet 1",
      "previous_worksheet_id": null,
      "next_worksheet_id": "8f96b840-de30-11ee-9203-0d9b172c1d7a",
      "workbook_id": "8f4e8bb0-de30-11ee-9203-0d9b172c1d7a",
      "created_at": "2023-01-19T18:27:39.296Z",
      "updated_at": "2024-03-09T16:17:44.961Z",
      "workbookId": "8f4e8bb0-de30-11ee-9203-0d9b172c1d7a"
    },
    {
      "config": {
        "chat_messages": []
      },
      "id": "8f5e4320-de30-11ee-9203-0d9b172c1d7a",
      "name": "Moving Average",
      "description": "Description for sheet 2",
      "previous_worksheet_id": "8f663260-de30-11ee-9203-0d9b172c1d7a",
      "next_worksheet_id": "8f868ba0-de30-11ee-9203-0d9b172c1d7a",
      "workbook_id": "8f4e8bb0-de30-11ee-9203-0d9b172c1d7a",
      "created_at": "2023-01-19T18:28:18.955Z",
      "updated_at": "2024-03-09T16:45:08.792Z",
      "workbookId": "8f4e8bb0-de30-11ee-9203-0d9b172c1d7a"
    },
    {
      "config": {
        "chat_messages": []
      },
      "id": "8f663260-de30-11ee-9203-0d9b172c1d7a",
      "name": "Date Time Functions",
      "description": "Description for sheet 3",
      "previous_worksheet_id": "8f96b840-de30-11ee-9203-0d9b172c1d7a",
      "next_worksheet_id": "8f5e4320-de30-11ee-9203-0d9b172c1d7a",
      "workbook_id": "8f4e8bb0-de30-11ee-9203-0d9b172c1d7a",
      "created_at": "2023-01-19T18:30:24.425Z",
      "updated_at": "2024-03-09T16:19:06.728Z",
      "workbookId": "8f4e8bb0-de30-11ee-9203-0d9b172c1d7a"
    },
    {
      "config": {
        "chat_messages": []
      },
      "id": "8f7d8af0-de30-11ee-9203-0d9b172c1d7a",
      "name": "Ranking",
      "description": "Description for sheet 4",
      "previous_worksheet_id": "8f868ba0-de30-11ee-9203-0d9b172c1d7a",
      "next_worksheet_id": "8f8ca620-de30-11ee-9203-0d9b172c1d7a",
      "workbook_id": "8f4e8bb0-de30-11ee-9203-0d9b172c1d7a",
      "created_at": "2023-01-19T18:31:28.276Z",
      "updated_at": "2024-03-09T16:46:31.120Z",
      "workbookId": "8f4e8bb0-de30-11ee-9203-0d9b172c1d7a"
    },
    {
      "config": {
        "chat_messages": []
      },
      "id": "8f868ba0-de30-11ee-9203-0d9b172c1d7a",
      "name": "Cumu. Sum",
      "description": "Description for sheet 5",
      "previous_worksheet_id": "8f5e4320-de30-11ee-9203-0d9b172c1d7a",
      "next_worksheet_id": "8f7d8af0-de30-11ee-9203-0d9b172c1d7a",
      "workbook_id": "8f4e8bb0-de30-11ee-9203-0d9b172c1d7a",
      "created_at": "2023-01-19T18:33:21.162Z",
      "updated_at": "2024-03-09T16:45:19.724Z",
      "workbookId": "8f4e8bb0-de30-11ee-9203-0d9b172c1d7a"
    },
    {
      "config": {
        "chat_messages": []
      },
      "id": "8f8ca620-de30-11ee-9203-0d9b172c1d7a",
      "name": "ASOF joins",
      "description": "Description for sheet 6",
      "previous_worksheet_id": "8f7d8af0-de30-11ee-9203-0d9b172c1d7a",
      "next_worksheet_id": "8fa3d7a0-de30-11ee-9203-0d9b172c1d7a",
      "workbook_id": "8f4e8bb0-de30-11ee-9203-0d9b172c1d7a",
      "created_at": "2023-01-19T18:33:46.764Z",
      "updated_at": "2024-03-09T17:00:19.341Z",
      "workbookId": "8f4e8bb0-de30-11ee-9203-0d9b172c1d7a"
    },
    {
      "config": {
        "chat_messages": []
      },
      "id": "8f96b840-de30-11ee-9203-0d9b172c1d7a",
      "name": "Primer",
      "description": "Description for sheet 7",
      "previous_worksheet_id": "8f4feb40-de30-11ee-9203-0d9b172c1d7a",
      "next_worksheet_id": "8f663260-de30-11ee-9203-0d9b172c1d7a",
      "workbook_id": "8f4e8bb0-de30-11ee-9203-0d9b172c1d7a",
      "created_at": "2023-02-17T23:00:04.971Z",
      "updated_at": "2024-03-09T17:11:18.233Z",
      "workbookId": "8f4e8bb0-de30-11ee-9203-0d9b172c1d7a"
    },
    {
      "config": {
        "chat_messages": []
      },
      "id": "8fa3d7a0-de30-11ee-9203-0d9b172c1d7a",
      "name": "Stream events",
      "description": "Description for sheet 8",
      "previous_worksheet_id": "8f8ca620-de30-11ee-9203-0d9b172c1d7a",
      "next_worksheet_id": null,
      "workbook_id": "8f4e8bb0-de30-11ee-9203-0d9b172c1d7a",
      "created_at": "2023-02-24T20:28:33.696Z",
      "updated_at": "2024-03-09T17:01:47.007Z",
      "workbookId": "8f4e8bb0-de30-11ee-9203-0d9b172c1d7a"
    }
  ],
  "blockMap": {
    "8f4feb40-de30-11ee-9203-0d9b172c1d7a": [
      {
        "config": {},
        "id": "8f5171e0-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"CREATE OR REPLACE TABLE trades \\n(\\n    time timestamp,\\n    symbol char(4),\\n    price_open float,\\n    price_close float,\\n    price_low float,\\n    price_high float,\\n    trading_volume int\\n);\\n\\nLOAD DATA INTO trades\\nFORMAT JSON \\nWITH OPTIONS (\\n    DATA SOURCE = 'trade_stream',\\n    SUBSCRIBE = TRUE,\\n    TYPE_INFERENCE_MODE = 'speed',\\n    ERROR_HANDLING = 'permissive',\\n    kafka_subscription_cancel_after = 120 -- cancels the stream after 120 minutes\\n);\"",
        "previous_block_id": "8f54a630-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": null,
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f4feb40-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-06T21:49:10.556Z",
        "updated_at": "2024-03-09T16:17:43.983Z",
        "worksheetId": "8f4feb40-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f5346a0-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"QUOTES DATA\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"The quotes table contains information on the ask and bid prices on a millisecond basis for three stocks - Apple (AAPL), Amazon (AMZN) and Google (GOOG).\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"âœŽNote\",\"bold\":true},{\"text\":\": We are loading only the latest quotes from kafka unlike trades, where we load from the earliest available data.\"}]}]",
        "previous_block_id": "8f55b7a0-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": "8f56c910-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f4feb40-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-09T15:55:54.763Z",
        "updated_at": "2024-03-09T16:17:43.988Z",
        "worksheetId": "8f4feb40-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f54a630-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"INTRADAY TRADES\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"The trades table contains information on the open, close, low, and high prices, and trading volumes for AAPL, AMZN and GOOG. The trades data is recorded on a minute by minute basis.\"}]}]",
        "previous_block_id": "8f56c910-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": "8f5171e0-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f4feb40-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-09T16:03:35.183Z",
        "updated_at": "2024-03-09T16:17:43.994Z",
        "worksheetId": "8f4feb40-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f55b7a0-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"-- Drop any existing tables that subscribe to these data sources\\nDROP TABLE IF EXISTS quotes;\\nDROP TABLE IF EXISTS trades;\\n\\n-- Create the credentials for the kafka cluster\\nCREATE OR REPLACE CREDENTIAL trade_quote_creds\\nTYPE = 'confluent',\\nIDENTITY = '' ,\\nSECRET = ''\\nWITH OPTIONS (  \\n   'security.protocol' = 'SASL_SSL',\\n   'sasl.mechanism' = 'PLAIN',\\n   'sasl.username' = 'QZN62QB2RBTLW74L',\\n   'sasl.password' = 'iiJDdKeBzf5ms5EInLvpRslW1zwsTYx9tjZ1pQyVoS+gPGkyNms6eMXPaR6y+GST'\\n);\\n\\n-- Create the quote source\\nCREATE OR REPLACE DATA SOURCE quote_stream\\nLOCATION = 'confluent://pkc-ep9mm.us-east-2.aws.confluent.cloud:9092'\\nWITH OPTIONS \\n(\\n    kafka_topic_name =  'quotes',\\n    credential = 'trade_quote_creds'\\n);\\n\\n-- Create the trade stream\\nCREATE OR REPLACE DATA SOURCE trade_stream\\nLOCATION = 'confluent://pkc-ep9mm.us-east-2.aws.confluent.cloud:9092'\\nWITH OPTIONS \\n(\\n    kafka_topic_name =  'trades',\\n    credential = 'trade_quote_creds'\\n);\\n\\n\"",
        "previous_block_id": "8f57da80-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": "8f5346a0-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f4feb40-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-09T16:10:00.151Z",
        "updated_at": "2024-03-09T16:17:44.000Z",
        "worksheetId": "8f4feb40-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f56c910-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"CREATE OR REPLACE TABLE quotes\\n(\\n timestamp timestamp,\\n ask_price float,\\n ask_size float,\\n bid_price float,\\n bid_size float,\\n symbol char(4)\\n);\\n\\nLOAD DATA INTO quotes\\nFORMAT JSON \\nWITH OPTIONS (\\n    DATA SOURCE = 'quote_stream',\\n    SUBSCRIBE = TRUE,\\n    TYPE_INFERENCE_MODE = 'speed',\\n    ERROR_HANDLING = 'permissive',\\n    kafka_offset_reset_policy = 'latest', -- load the latest qoutes data\\n    kafka_subscription_cancel_after = 120 -- cancels the stream after 120 minutes\\n);\"",
        "previous_block_id": "8f5346a0-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": "8f54a630-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f4feb40-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-23T20:16:27.456Z",
        "updated_at": "2024-03-09T16:17:44.006Z",
        "worksheetId": "8f4feb40-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f57da80-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"SET UP THE KAFKA DATA SOURCE\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"There are two kafka topics that we will use for this example. The first contains data on quotes and the second on trades. The queries below register both these data sources. \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"âœŽ Note\",\"bold\":true},{\"text\":\": Both the data streams are synthetic i.e. made up data. They don't correspond to actual prices and they are always on i.e. they don't follow market hours. This is to ensure that anyone accessing these feeds will have access to a running feed regardless of timezone. However, both the streams are similar intraday trade and quote streams in terms of values and number of observations. \"}]}]",
        "previous_block_id": null,
        "next_block_id": "8f55b7a0-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f4feb40-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-23T21:42:01.851Z",
        "updated_at": "2024-03-09T16:17:44.012Z",
        "worksheetId": "8f4feb40-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      }
    ],
    "8f5e4320-de30-11ee-9203-0d9b172c1d7a": [
      {
        "config": {},
        "id": "8f5fa2b0-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"MOVING AVERAGES\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Moving averages are used in time series analysis to smooth out short-term fluctuations and highlight longer-term trends. The average of a set of data points is calculated and a line is drawn through the average values to show the overall trend. This can help analysts identify patterns and make predictions about future data points. Moving averages are also used to identify support and resistance levels, which can be useful for making trading decisions.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Let's use a window function to find the  5 minute moving average of closing prices and then compare the current closing price with the moving average. We will do this in two stages. First we will compute the moving average over 10 preceding minutes and then compute the gap. We will then aggregate up to the hour interval to compute the average hourly gap.\"}]}]",
        "previous_block_id": null,
        "next_block_id": "8f60db30-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f5e4320-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-09T18:09:26.724Z",
        "updated_at": "2024-03-09T16:17:44.042Z",
        "worksheetId": "8f5e4320-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f60db30-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"-- Calculate the price gap when compared to a moving average for a 10 minute window\\nCREATE OR REPLACE MATERIALIZED VIEW mv_mov_avg_minute\\nREFRESH ON CHANGE AS\\nSELECT\\n    time,\\n    symbol,\\n    ROUND\\n    (\\n        (price_close - (AVG(price_close) OVER \\n        (\\n            PARTITION BY symbol\\n            ORDER BY time\\n            ROWS 5 PRECEDING\\n        ))),\\n        2\\n    ) AS price_gap\\nFROM trades\\nWHERE TIMESTAMPDIFF(HOUR, time, NOW()) < 24 --Only keep the last 24 hours\\nORDER BY time, symbol;\\n\\n-- Find the average hourly price gap\\nCREATE OR REPLACE MATERIALIZED VIEW price_gap_hourly \\nREFRESH ON CHANGE AS \\nSELECT \\n    symbol,\\n    HOUR(time) as time_hour,\\n    ROUND(AVG(price_gap), 2) AS price_gap\\nFROM mv_mov_avg_minute\\nGROUP BY symbol, time_hour \\nORDER BY time_hour, symbol;\\n\\n-- Plot that on a line chart\\nSELECT * FROM price_gap_hourly\\nORDER BY time_hour\"",
        "previous_block_id": "8f5fa2b0-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": null,
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f5e4320-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-21T21:53:46.207Z",
        "updated_at": "2024-03-09T16:24:17.862Z",
        "worksheetId": "8f5e4320-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      }
    ],
    "8f663260-de30-11ee-9203-0d9b172c1d7a": [
      {
        "config": {},
        "id": "8f6743d0-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"Time series analysis often requires the manipulation of data and time values. Kinetica offers a wide range of functions to work with data and time. I will demonstrate a few here, but you can read more about them here: https://docs.kinetica.com/7.1/sql/query/#sql-datetime-functions\"}]}]",
        "previous_block_id": null,
        "next_block_id": "8f6a9f30-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-09T16:12:57.354Z",
        "updated_at": "2024-03-09T16:17:44.166Z",
        "worksheetId": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f682e30-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"DATE/TIME CONVERSION FUNCTIONS\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Kinetica offers functions that can be used to convert between different data time formats.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Let's use the DATE_TO_EPOCH_MSECS(year, month, day, hour, min, sec, msec) function to convert the time column in the trades data to milliseconds since the UNIX epoch (Jan 1, 1970).\"}]}]",
        "previous_block_id": "8f73c6f0-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": "8f698dc0-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-09T16:18:32.311Z",
        "updated_at": "2024-03-09T16:17:44.171Z",
        "worksheetId": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f698dc0-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"SELECT DATE_TO_EPOCH_MSECS(INT(YEAR(time)), INT(MONTH(time)), INT(DAY(time)), INT(HOUR(time)), INT(MINUTE(time)), INT(SECOND(time)), INT(MSEC(time))) as ms_time \\nFROM trades \"",
        "previous_block_id": "8f682e30-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": null,
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-09T16:27:29.383Z",
        "updated_at": "2024-03-09T16:17:44.177Z",
        "worksheetId": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f6a9f30-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"CALCULATE THE DIFFERENCE BETWEEN TWO DATES\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Let's find the total duration in days of the trades data.\"}]}]",
        "previous_block_id": "8f6743d0-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": "8f6c4ce0-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-20T18:14:37.108Z",
        "updated_at": "2024-03-09T16:17:44.185Z",
        "worksheetId": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f6c4ce0-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"SELECT TIMESTAMPDIFF(DAY, MIN(time), MAX(time)) AS days_duration\\nFROM trades\"",
        "previous_block_id": "8f6a9f30-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": "8f71f230-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-20T18:33:21.708Z",
        "updated_at": "2024-03-09T16:17:44.191Z",
        "worksheetId": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f6d5e50-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"ADD OR SUBTRACT FROM DATE OR TIME VALUES\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Kinetica offers a few different functions to add or subtract data and time values. Here I have used a simple interval functions to add a day to the current time (in UTC timezone). \"}]}]",
        "previous_block_id": "8f6e6fc0-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": "8f73c6f0-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-20T18:33:24.483Z",
        "updated_at": "2024-03-09T16:17:44.196Z",
        "worksheetId": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f6e6fc0-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"SELECT \\n    SPLIT(\\n        TIME_BUCKET(INTERVAL 30 MINUTES, time, 0, 0), --bucket the data\\n        ' ',\\n        2) AS time_bucket,\\n    SUM(trading_volume) AS total_volume\\nFROM trades\\nWHERE TIMESTAMPDIFF(HOUR, time, NOW()) < 6\\nGROUP BY time_bucket\\nORDER BY time_bucket\"",
        "previous_block_id": "8f71f230-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": "8f6d5e50-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-03-01T19:32:53.152Z",
        "updated_at": "2024-03-09T16:17:44.202Z",
        "worksheetId": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f71f230-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"IDENTIFY TIME BUCKETS\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"A time bucket is useful for establishing an arbitrary interval into which a time (or date) value falls into. This is useful for creating arbitrary groups in data aggregating data based on those groups. \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Let's use this to bucket our data into 30 minute intervals and calculate the total volume of trades within those groups for the last 6 hours. The time bucket functions returns the start of the a particular interval. I have used the SPLIT function to only return the corresponding time part of the interval without the date part. This will make it easier to ready the labels in the bar chart.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"ðŸ‘‰ðŸ¼NOTE: \",\"bold\":true},{\"text\":\"The data for this workbook is based on real world data but it is synthetic. The kafka producer that generates this data is constantly producing data irrespective of whether it corresponds to market hours or not. This is so that the queries here will have access to the most recent data regardless of which time zone they are run from.\"}]}]",
        "previous_block_id": "8f6c4ce0-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": "8f6e6fc0-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-03-02T01:22:17.680Z",
        "updated_at": "2024-03-09T16:17:44.210Z",
        "worksheetId": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f73c6f0-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"SELECT NOW() + INTERVAL 1 DAY AS same_time_tomorrow\"",
        "previous_block_id": "8f6d5e50-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": "8f682e30-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-03-02T02:00:27.698Z",
        "updated_at": "2024-03-09T16:17:44.216Z",
        "worksheetId": "8f663260-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      }
    ],
    "8f7d8af0-de30-11ee-9203-0d9b172c1d7a": [
      {
        "config": {},
        "id": "8f7e9c60-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block 1",
        "description": "Description for Block 1",
        "content": "\"CREATE OR REPLACE MATERIALIZED VIEW percent_changes\\nREFRESH EVERY 5 SECONDS AS \\nSELECT  \\n    symbol,\\n    time,\\n    (price_close - LAG(price_close, 10) OVER \\n    (\\n        PARTITION BY symbol\\n        ORDER BY time \\n    )) / LAG(price_close, 10) OVER \\n    (\\n        PARTITION BY symbol\\n        ORDER BY time \\n    ) AS percent_change_10_mins\\nFROM trades\\nORDER BY time, symbol;\\n\\nCREATE OR REPLACE MATERIALIZED VIEW top_changes\\nREFRESH ON CHANGE AS \\nSELECT \\n    symbol,\\n    DATETIME(time),\\n    percent_change_10_mins * 100 AS percent_change_10mins,\\n    RANK() OVER \\n    (\\n        PARTITION BY symbol\\n        ORDER BY percent_change_10_mins DESC\\n    ) AS change_rank \\nFROM percent_changes\\nORDER BY change_rank;\\n\\n\"",
        "previous_block_id": "8f7ffbf0-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": "8f810d60-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f7d8af0-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-01-19T18:31:28.360Z",
        "updated_at": "2024-03-09T16:17:44.252Z",
        "worksheetId": "8f7d8af0-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f7ffbf0-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"RANKING\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Ranking is used to compare data points within a given series or between different series and determin their relative importance. There are several types of ranking functions available. \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"https://docs.kinetica.com/7.1/concepts/window/#ranking\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Let's use the rank function to find the top 5 percent positve changes in closing price over a ten minute window. This will require two different queries. The first will find the percent change in closing price over a moving 10 minute window. The second will rank these and slice the top 5.\"}]}]",
        "previous_block_id": null,
        "next_block_id": "8f7e9c60-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f7d8af0-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-22T03:19:28.967Z",
        "updated_at": "2024-03-09T16:17:44.258Z",
        "worksheetId": "8f7d8af0-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f810d60-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"-- Display the results\\nSELECT * FROM top_changes\"",
        "previous_block_id": "8f7e9c60-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": null,
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f7d8af0-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-28T02:34:29.876Z",
        "updated_at": "2024-03-09T16:17:44.266Z",
        "worksheetId": "8f7d8af0-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      }
    ],
    "8f868ba0-de30-11ee-9203-0d9b172c1d7a": [
      {
        "config": {},
        "id": "8f879d10-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"CUMULATIVE SUM\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Cumulative sums are used to analyze the total effect of a given event over a period of time. It provides insight into the trend of a particular variable by summing all values from a given starting point up to the present. This can help identify changes in the data and detect patterns in the underlying data. Additionally, cumulative sums can be used to compare two different time series and analyze the difference between them.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Let's compare the cumulative hourly sum of traded stocks for the last 24 hours of trading data. We will need to do this two stages. First we calculate the hourly total volume and then we calculate the cumulative totals.\"}]}]",
        "previous_block_id": null,
        "next_block_id": "8f88ae80-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f868ba0-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-21T18:22:37.020Z",
        "updated_at": "2024-03-09T16:17:44.304Z",
        "worksheetId": "8f868ba0-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f88ae80-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"-- Find the hourly total volume\\nCREATE OR REPLACE MATERIALIZED VIEW hourly_volumes\\nREFRESH EVERY 5 SECONDS AS \\nSELECT \\n    symbol,\\n    HOUR(time) AS time_hour,\\n    SUM(trading_volume) AS total_volume\\nFROM trades\\nWHERE TIMESTAMPDIFF(HOUR, time, NOW()) < 24 --Only keep the last 24 hours\\nGROUP BY time_hour, symbol;\\n\\n-- Find the cumulative totals\\nCREATE OR REPLACE MATERIALIZED VIEW hourly_cumu_volumes\\nREFRESH ON CHANGE AS \\nSELECT\\n    symbol,\\n    time_hour,\\n    SUM(total_volume) OVER \\n    (\\n        PARTITION BY symbol\\n        ORDER BY time_hour \\n    ) AS cumu_volume\\nFROM hourly_volumes\\nORDER BY time_hour, symbol;\\n\\nSELECT * FROM hourly_cumu_volumes\"",
        "previous_block_id": "8f879d10-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": null,
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f868ba0-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-21T18:43:17.964Z",
        "updated_at": "2024-03-09T16:17:44.316Z",
        "worksheetId": "8f868ba0-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      }
    ],
    "8f8ca620-de30-11ee-9203-0d9b172c1d7a": [
      {
        "config": {},
        "id": "8f8db790-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block 1",
        "description": "Description for Block 1",
        "content": "\"CREATE OR REPLACE MATERIALIZED VIEW trade_quotes \\nREFRESH EVERY 5 SECONDS AS\\nSELECT \\n    DATETIME(time) AS time,\\n    t.symbol AS symbol,\\n    price_high,\\n    bid_price\\nFROM trades t \\nINNER JOIN quotes q ON \\nt.symbol = q.symbol AND \\nASOF(t.time, q.timestamp, INTERVAL '0' SECOND, INTERVAL '1' SECOND, MIN)\\nWHERE bid_price > price_high\"",
        "previous_block_id": "8f8ec900-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": "8f900180-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f8ca620-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-01-19T18:33:46.855Z",
        "updated_at": "2024-03-09T17:01:45.362Z",
        "worksheetId": "8f8ca620-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f8ec900-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"HIGH CARDINALITY JOINS ON STREAMING DATA USING ASOF\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"An ASOF join is used in time series analysis when combining data from two different sources (e.g., two different databases or two different time periods) that have slightly different time stamps. This type of join is used to match up entries with similar values, but that have slightly different time stamps, by pairing them with the closest corresponding value in the other dataset. This allows for data points to be accurately matched and combined, even if the timing of the events is slightly off.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"TRIGGER SELL WHEN BID PRICE HIGHER THAN HIGHEST TRADED PRICE\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Kinetica allows you to perform high cardinality ASOF joins on streaming data to maintain an always updated view. Let's use that to combine the trades data with quotes to trigger buy events if the bid price is higher than the highest traded price in the last minute.\"}]}]",
        "previous_block_id": null,
        "next_block_id": "8f8db790-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f8ca620-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-22T17:19:38.997Z",
        "updated_at": "2024-03-09T16:17:44.370Z",
        "worksheetId": "8f8ca620-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f900180-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"THE ASOF JOIN\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"An ASOF function allows you to perform an inexact join by specifying a window within which to look for matching values. The positioning of this window is configurable and so is the method by which a specific matching value is picked when there are multiple matches within that window.\"}]}]",
        "previous_block_id": "8f8db790-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": "8f9112f0-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f8ca620-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-24T21:15:39.316Z",
        "updated_at": "2024-03-09T16:17:44.376Z",
        "worksheetId": "8f8ca620-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f9112f0-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "{}",
        "previous_block_id": "8f900180-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": null,
        "block_type_id": "016d9471-1913-4c85-894a-101e82909fd3",
        "worksheet_id": "8f8ca620-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-24T21:16:53.111Z",
        "updated_at": "2024-03-09T16:17:44.382Z",
        "worksheetId": "8f8ca620-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "016d9471-1913-4c85-894a-101e82909fd3"
      }
    ],
    "8f96b840-de30-11ee-9203-0d9b172c1d7a": [
      {
        "config": {},
        "id": "8f97f0c0-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"Feel free to skip this section if you are already familiar with the basics of time series analysis with SQL\"}]},{\"type\":\"paragraph\",\"children\":[{\"bold\":true,\"text\":\"WHAT IS TIME SERIES DATA\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Time-series data are a set of observations collected over a period of time. It is often used to track trends over time, such as stock prices, weather patterns, or economic indicators. \"}]}]",
        "previous_block_id": null,
        "next_block_id": "8f990230-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f96b840-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-17T23:00:25.609Z",
        "updated_at": "2024-03-09T16:17:44.442Z",
        "worksheetId": "8f96b840-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f990230-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "{}",
        "previous_block_id": "8f97f0c0-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": "8f9e0b40-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "016d9471-1913-4c85-894a-101e82909fd3",
        "worksheet_id": "8f96b840-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-17T23:00:58.041Z",
        "updated_at": "2024-03-09T16:17:44.452Z",
        "worksheetId": "8f96b840-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "016d9471-1913-4c85-894a-101e82909fd3"
      },
      {
        "config": {},
        "id": "8f9afe00-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"SELECT\\n    symbol,\\n    DATE_TRUNC(DAY, time) AS trade_day,\\n    MAX(price_high) as price_high\\nFROM trades \\nWHERE symbol != 'AAPL'\\nGROUP BY trade_day, symbol\\nORDER BY trade_day, symbol\"",
        "previous_block_id": "8f9cf9d0-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": null,
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f96b840-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-20T17:59:17.344Z",
        "updated_at": "2024-03-09T16:18:37.706Z",
        "worksheetId": "8f96b840-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f9cf9d0-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"TIME SERIES CHART (AMZN and GOOG)\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"The query below find the highest traded price every day for Amazon and Google. The chart is an illustration of time series data. Run the query to see the chart update.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"âœŽ Note\",\"bold\":true},{\"text\":\": Rerun the query to show the most up to date version of the chart. You might need to wait a couple of minutes for the data to show up.\"}]}]",
        "previous_block_id": "8f9e0b40-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": "8f9afe00-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f96b840-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-20T18:06:55.081Z",
        "updated_at": "2024-03-09T16:17:44.463Z",
        "worksheetId": "8f96b840-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8f9e0b40-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"KEY ANALYTICAL CAPABILITIES FOR TIME SERIES ANALYSIS\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Analysis of time series data requires specialized operations. These include the following. \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"1. \"},{\"bold\":true,\"text\":\"Date/time objects\"},{\"text\":\": Kinetica provides extended coverage and support for data/time objects and convenience functions for manipulating and working with them. This is essential for dealing with time series data.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"2. \"},{\"text\":\"Window functions\",\"bold\":true},{\"text\":\": Window functions are useful for time series analysis because they allow us to analyze data in a rolling or sliding window. This is useful for understanding patterns in the data that may not be visible when looking at the whole dataset. For example, if we wanted to identify seasonality in a time series, we could use a window function to calculate the average of a given period of time (e.g., a month, a quarter, etc.) and then compare it to the overall average at different points throughout the year. This can help us identify any patterns that may be present in the data.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"3. \"},{\"text\":\"Inexact joins:\",\"bold\":true},{\"text\":\" Timestamp values from two different IoT sensors rarely align. This makes it impossible to join these data streams on equality based joins. Range based joins solve this problem by searching for matches within an interval. Kinetica provides an ASOF function for these types of use cases.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]",
        "previous_block_id": "8f990230-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": "8f9cf9d0-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8f96b840-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-24T23:33:05.978Z",
        "updated_at": "2024-03-09T16:17:44.469Z",
        "worksheetId": "8f96b840-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      }
    ],
    "8fa3d7a0-de30-11ee-9203-0d9b172c1d7a": [
      {
        "config": {},
        "id": "8fa4e910-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block 1",
        "description": "Description for Block 1",
        "content": "\"-- CREATE A STREAM \\nCREATE STREAM buy_events ON trade_quotes \\nREFRESH ON CHANGE \\nWITH OPTIONS \\n(\\n    DESTINATION = 'https://eofzvoul4mtk60x.m.pipedream.net' \\n)\"",
        "previous_block_id": "8fa62190-de30-11ee-9203-0d9b172c1d7a",
        "next_block_id": null,
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8fa3d7a0-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-24T20:28:33.804Z",
        "updated_at": "2024-03-09T17:11:05.820Z",
        "worksheetId": "8fa3d7a0-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "8fa62190-de30-11ee-9203-0d9b172c1d7a",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"EVENT STREAMING\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Let's say we want to trigger an event alert anytime there is a new sell decision using the ASOF query that we saw in the previous worksheet. We can does using a stream. A stream can send records from Kinetica into other data sinks like Kafka or a simple webhook. \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"SEE EVENTS BEING STREAMED IN REAL TIME\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"For this illustration, we will use the latter to send records to a pipedream webhook and then hook that up to the following google spreadsheet: https://bit.ly/3ExmTVC\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Copy the link above and paste in your browsers address bar to see buy events being detected in real time by Kinetica.\"}]}]",
        "previous_block_id": null,
        "next_block_id": "8fa4e910-de30-11ee-9203-0d9b172c1d7a",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "8fa3d7a0-de30-11ee-9203-0d9b172c1d7a",
        "created_at": "2023-02-24T20:28:56.221Z",
        "updated_at": "2024-03-09T16:17:44.501Z",
        "worksheetId": "8fa3d7a0-de30-11ee-9203-0d9b172c1d7a",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      }
    ]
  },
  "vizMap": {
    "8f5171e0-de30-11ee-9203-0d9b172c1d7a": [],
    "8f5346a0-de30-11ee-9203-0d9b172c1d7a": [],
    "8f54a630-de30-11ee-9203-0d9b172c1d7a": [],
    "8f55b7a0-de30-11ee-9203-0d9b172c1d7a": [],
    "8f56c910-de30-11ee-9203-0d9b172c1d7a": [],
    "8f57da80-de30-11ee-9203-0d9b172c1d7a": [],
    "8f5fa2b0-de30-11ee-9203-0d9b172c1d7a": [],
    "8f60db30-de30-11ee-9203-0d9b172c1d7a": [
      {
        "config": {
          "x_axis_column": "time_hour",
          "y_axis_column": "price_gap",
          "series_column": "symbol",
          "x_axis_label": "time_hour",
          "y_axis_label": "price_gap",
          "color_scheme": "dark2"
        },
        "id": "8f61eca0-de30-11ee-9203-0d9b172c1d7a",
        "name": "Line Chart Visualization",
        "description": "Description for line chart visualization",
        "block_id": "8f60db30-de30-11ee-9203-0d9b172c1d7a",
        "visualization_type_id": "b565ab86-0964-4e75-aed9-a11ba79fae43",
        "created_at": "2023-02-21T21:56:06.253Z",
        "updated_at": "2024-03-09T16:17:44.042Z",
        "blockId": "8f60db30-de30-11ee-9203-0d9b172c1d7a",
        "visualizationTypeId": "b565ab86-0964-4e75-aed9-a11ba79fae43"
      }
    ],
    "8f6743d0-de30-11ee-9203-0d9b172c1d7a": [],
    "8f682e30-de30-11ee-9203-0d9b172c1d7a": [],
    "8f698dc0-de30-11ee-9203-0d9b172c1d7a": [],
    "8f6a9f30-de30-11ee-9203-0d9b172c1d7a": [],
    "8f6c4ce0-de30-11ee-9203-0d9b172c1d7a": [],
    "8f6d5e50-de30-11ee-9203-0d9b172c1d7a": [],
    "8f6e6fc0-de30-11ee-9203-0d9b172c1d7a": [
      {
        "config": {
          "x_axis_column": "time_bucket",
          "y_axis_column": "total_volume",
          "color_scheme": "category10",
          "x_axis_label": "time_bucket",
          "y_axis_label": "total_volume"
        },
        "id": "8f706b90-de30-11ee-9203-0d9b172c1d7a",
        "name": "Bar Chart Visualization",
        "description": "Description for bar chart visualization",
        "block_id": "8f6e6fc0-de30-11ee-9203-0d9b172c1d7a",
        "visualization_type_id": "561a39ca-80d4-4c53-9133-62d2c0e82405",
        "created_at": "2023-03-02T01:45:12.375Z",
        "updated_at": "2024-03-09T16:17:44.137Z",
        "blockId": "8f6e6fc0-de30-11ee-9203-0d9b172c1d7a",
        "visualizationTypeId": "561a39ca-80d4-4c53-9133-62d2c0e82405"
      }
    ],
    "8f71f230-de30-11ee-9203-0d9b172c1d7a": [],
    "8f73c6f0-de30-11ee-9203-0d9b172c1d7a": [],
    "8f7e9c60-de30-11ee-9203-0d9b172c1d7a": [],
    "8f7ffbf0-de30-11ee-9203-0d9b172c1d7a": [],
    "8f810d60-de30-11ee-9203-0d9b172c1d7a": [],
    "8f879d10-de30-11ee-9203-0d9b172c1d7a": [],
    "8f88ae80-de30-11ee-9203-0d9b172c1d7a": [
      {
        "config": {
          "x_axis_column": "time_hour",
          "y_axis_column": "cumu_volume",
          "series_column": "symbol",
          "x_axis_label": "symbol",
          "y_axis_label": "cumu_volume",
          "color_scheme": "dark2"
        },
        "id": "8f89e700-de30-11ee-9203-0d9b172c1d7a",
        "name": "Line Chart Visualization",
        "description": "Description for line chart visualization",
        "block_id": "8f88ae80-de30-11ee-9203-0d9b172c1d7a",
        "visualization_type_id": "b565ab86-0964-4e75-aed9-a11ba79fae43",
        "created_at": "2023-02-21T18:46:33.414Z",
        "updated_at": "2024-03-09T16:17:44.304Z",
        "blockId": "8f88ae80-de30-11ee-9203-0d9b172c1d7a",
        "visualizationTypeId": "b565ab86-0964-4e75-aed9-a11ba79fae43"
      }
    ],
    "8f8db790-de30-11ee-9203-0d9b172c1d7a": [],
    "8f8ec900-de30-11ee-9203-0d9b172c1d7a": [],
    "8f900180-de30-11ee-9203-0d9b172c1d7a": [],
    "8f9112f0-de30-11ee-9203-0d9b172c1d7a": [
      {
        "config": {
          "image_url": "https://github.com/kineticadb/examples/blob/master/transit_truck_monitoring/assets/asof_code.gif?raw=true",
          "height": "",
          "width": "",
          "alignment": "center"
        },
        "id": "8f922460-de30-11ee-9203-0d9b172c1d7a",
        "name": "Image Visualization",
        "description": "Description for image visualization",
        "block_id": "8f9112f0-de30-11ee-9203-0d9b172c1d7a",
        "visualization_type_id": "61ec39b0-3295-4354-b92c-831fec4dacb3",
        "created_at": "2023-02-24T21:16:53.224Z",
        "updated_at": "2024-03-09T16:17:44.358Z",
        "blockId": "8f9112f0-de30-11ee-9203-0d9b172c1d7a",
        "visualizationTypeId": "61ec39b0-3295-4354-b92c-831fec4dacb3"
      }
    ],
    "8f97f0c0-de30-11ee-9203-0d9b172c1d7a": [],
    "8f990230-de30-11ee-9203-0d9b172c1d7a": [
      {
        "config": {
          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a0/20200324_Global_average_temperature_-_NASA-GISS_HadCrut_NOAA_Japan_BerkeleyE.svg/800px-20200324_Global_average_temperature_-_NASA-GISS_HadCrut_NOAA_Japan_BerkeleyE.svg.png?20220124231738",
          "height": "",
          "width": "",
          "alignment": "center"
        },
        "id": "8f99ec90-de30-11ee-9203-0d9b172c1d7a",
        "name": "Image Visualization",
        "description": "Description for image visualization",
        "block_id": "8f990230-de30-11ee-9203-0d9b172c1d7a",
        "visualization_type_id": "61ec39b0-3295-4354-b92c-831fec4dacb3",
        "created_at": "2023-02-17T23:00:58.091Z",
        "updated_at": "2024-03-09T16:17:44.409Z",
        "blockId": "8f990230-de30-11ee-9203-0d9b172c1d7a",
        "visualizationTypeId": "61ec39b0-3295-4354-b92c-831fec4dacb3"
      }
    ],
    "8f9afe00-de30-11ee-9203-0d9b172c1d7a": [
      {
        "config": {
          "x_axis_column": "trade_day",
          "y_axis_column": "price_high",
          "series_column": "symbol",
          "x_axis_label": "Date",
          "y_axis_label": "Price (High)",
          "color_scheme": "dark2"
        },
        "id": "8f9c0f70-de30-11ee-9203-0d9b172c1d7a",
        "name": "Line Chart Visualization",
        "description": "Description for line chart visualization",
        "block_id": "8f9afe00-de30-11ee-9203-0d9b172c1d7a",
        "visualization_type_id": "b565ab86-0964-4e75-aed9-a11ba79fae43",
        "created_at": "2023-02-20T19:05:42.270Z",
        "updated_at": "2024-03-09T16:17:44.423Z",
        "blockId": "8f9afe00-de30-11ee-9203-0d9b172c1d7a",
        "visualizationTypeId": "b565ab86-0964-4e75-aed9-a11ba79fae43"
      }
    ],
    "8f9cf9d0-de30-11ee-9203-0d9b172c1d7a": [],
    "8f9e0b40-de30-11ee-9203-0d9b172c1d7a": [],
    "8fa4e910-de30-11ee-9203-0d9b172c1d7a": [],
    "8fa62190-de30-11ee-9203-0d9b172c1d7a": []
  }
}
