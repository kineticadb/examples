{"workbook":{"config":{},"id":"315242d0-caec-11ec-bf76-4353fcc3ff97","name":"Column Row Security IT setup","description":"This guide workbook shows how to implement column and row security in Kinetica using SQL","user_id":"d8b8fc90-caeb-11ec-bf76-4353fcc3ff97","warehouse_id":null,"is_example":false,"is_shared":false,"created_at":"2021-08-27T13:25:04.887Z","updated_at":"2022-05-03T14:20:33.022Z","userId":"d8b8fc90-caeb-11ec-bf76-4353fcc3ff97"},"worksheets":[{"config":{},"id":"31566180-caec-11ec-bf76-4353fcc3ff97","name":"1. Create Schema and Directory","description":"Description for Sheet 1","previous_worksheet_id":null,"next_worksheet_id":"318d5000-caec-11ec-bf76-4353fcc3ff97","workbook_id":"315242d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2021-08-27T13:25:04.963Z","updated_at":"2022-05-03T14:26:26.949Z","workbookId":"315242d0-caec-11ec-bf76-4353fcc3ff97"},{"config":{},"id":"318d5000-caec-11ec-bf76-4353fcc3ff97","name":"2. Create roles","description":"Create roles and grant them permissions","previous_worksheet_id":"31566180-caec-11ec-bf76-4353fcc3ff97","next_worksheet_id":"31b08f70-caec-11ec-bf76-4353fcc3ff97","workbook_id":"315242d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-18T20:45:55.508Z","updated_at":"2022-05-03T14:27:24.195Z","workbookId":"315242d0-caec-11ec-bf76-4353fcc3ff97"},{"config":{},"id":"31b08f70-caec-11ec-bf76-4353fcc3ff97","name":"3. Create Users and assign roles","description":"Create users and grant them different roles.","previous_worksheet_id":"318d5000-caec-11ec-bf76-4353fcc3ff97","next_worksheet_id":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","workbook_id":"315242d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-18T21:09:03.871Z","updated_at":"2022-05-03T14:27:30.407Z","workbookId":"315242d0-caec-11ec-bf76-4353fcc3ff97"},{"config":{},"id":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","name":"4. Column and Row security","description":"Description for sheet 4","previous_worksheet_id":"31b08f70-caec-11ec-bf76-4353fcc3ff97","next_worksheet_id":"6788bd70-caec-11ec-bf76-4353fcc3ff97","workbook_id":"315242d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T16:57:58.906Z","updated_at":"2022-05-03T14:27:38.468Z","workbookId":"315242d0-caec-11ec-bf76-4353fcc3ff97"},{"config":{},"id":"6788bd70-caec-11ec-bf76-4353fcc3ff97","name":"5. ðŸ§¹ - Clean up","description":"Description for sheet 5","previous_worksheet_id":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","next_worksheet_id":null,"workbook_id":"315242d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-05-03T14:22:03.976Z","updated_at":"2022-05-03T14:27:46.170Z","workbookId":"315242d0-caec-11ec-bf76-4353fcc3ff97"}],"blockMap":{"31566180-caec-11ec-bf76-4353fcc3ff97":[{"config":{},"id":"315995d0-caec-11ec-bf76-4353fcc3ff97","name":"Block 1","description":"Description for Block 1","content":"\"CREATE OR REPLACE TABLE OurCo.Employees\\n(\\n    first_name VARCHAR (32) NOT NULL,\\n    last_name VARCHAR (32) NOT NULL,\\n    user_id VARCHAR (32) NOT NULL, \\n    ssn VARCHAR (16, primary_key) NOT NULL,\\n    dob DATE NOT NULL,\\n    address VARCHAR (64) NOT NULL,\\n    state   VARCHAR (64) NOT NULL,\\n    country VARCHAR (8) NOT NULL,\\n    employee_id SMALLINT (primary_key) NOT NULL,\\n    gender VARCHAR (16) NOT NULL,\\n    start_date DATE,\\n    end_date DATE,\\n    home_phone VARCHAR (32),\\n    cell_phone VARCHAR (32),\\n    title VARCHAR (32) NOT NULL,\\n    dept VARCHAR (32) NOT NULL,\\n    marital_status VARCHAR (16) NOT NULL,\\n    college VARCHAR (64),\\n    graduation_date DATE \\n)\"","previous_block_id":"3169c270-caec-11ec-bf76-4353fcc3ff97","next_block_id":"316d9300-caec-11ec-bf76-4353fcc3ff97","block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"31566180-caec-11ec-bf76-4353fcc3ff97","created_at":"2021-08-27T13:25:05.049Z","updated_at":"2022-05-03T14:20:33.241Z","worksheetId":"31566180-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"315d1840-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"\"DROP SCHEMA IF EXISTS OurCo CASCADE;\\nCREATE SCHEMA OurCo\"","previous_block_id":"31664000-caec-11ec-bf76-4353fcc3ff97","next_block_id":"3169c270-caec-11ec-bf76-4353fcc3ff97","block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"31566180-caec-11ec-bf76-4353fcc3ff97","created_at":"2021-08-27T13:30:38.602Z","updated_at":"2022-05-03T14:21:02.728Z","worksheetId":"31566180-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"315ffe70-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"\"CREATE OR REPLACE TABLE OurCo.Salaries \\n(\\n    user_id VARCHAR (32, primary_key) NOT NULL,\\n    salary INTEGER\\n)\"","previous_block_id":"316d9300-caec-11ec-bf76-4353fcc3ff97","next_block_id":"3170a040-caec-11ec-bf76-4353fcc3ff97","block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"31566180-caec-11ec-bf76-4353fcc3ff97","created_at":"2021-08-30T03:37:51.719Z","updated_at":"2022-05-03T14:20:33.279Z","worksheetId":"31566180-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"31630bb0-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"\"DROP DIRECTORY IF EXISTS 'HR'\\nWITH OPTIONS ('recursive' = 'true');\\n\\nCREATE DIRECTORY 'HR'\"","previous_block_id":"3170a040-caec-11ec-bf76-4353fcc3ff97","next_block_id":null,"block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"31566180-caec-11ec-bf76-4353fcc3ff97","created_at":"2021-10-11T13:48:00.085Z","updated_at":"2022-05-03T14:20:33.306Z","worksheetId":"31566180-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"31664000-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"Create the schema\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Schemas are logical containers for most database objects (tables, views, etc.). In order to place an object in a schema, the schema must be created first--schemas will not be automatically created when specified in CREATE TABLE or similar calls.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"We will be using the schema OurCo to store all the employee and salary tables. The code below drops any existing occurrences of the OurCo schema. A schema can only be dropped if there are no tables in it. Setting the cascade option to true will drop the tables in a schema first and then drop the schema as well.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"â—ï¸ NOTE: \",\"bold\":true},{\"text\":\"The drop schema command will remove any previously created tables with in the OurCo schema. You can either rename the schema or move the current tables to a different schema to prevent them from being lost.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"You can read more about Schemas here: https://docs.kinetica.com/7.1/sql/ddl/#create-schema\"}]}]","previous_block_id":null,"next_block_id":"315d1840-caec-11ec-bf76-4353fcc3ff97","block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"31566180-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-18T19:25:30.939Z","updated_at":"2022-05-03T14:20:33.325Z","worksheetId":"31566180-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"3169c270-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"Create the employees table\",\"bold\":true}]}]","previous_block_id":"315d1840-caec-11ec-bf76-4353fcc3ff97","next_block_id":"315995d0-caec-11ec-bf76-4353fcc3ff97","block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"31566180-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-18T19:35:43.980Z","updated_at":"2022-05-03T14:20:33.346Z","worksheetId":"31566180-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"316d9300-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"Create salaries table\",\"bold\":true}]}]","previous_block_id":"315995d0-caec-11ec-bf76-4353fcc3ff97","next_block_id":"315ffe70-caec-11ec-bf76-4353fcc3ff97","block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"31566180-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-18T19:42:33.963Z","updated_at":"2022-05-03T14:20:33.370Z","worksheetId":"31566180-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"3170a040-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"Create the HR directory\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Kinetica provides a file system interface that's packaged with every installation. The file system provides a repository for users to store and make use of files within the database.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"The code below removes the HR directory if it exists. The recursive option removes any files within the directory.\"}]}]","previous_block_id":"315ffe70-caec-11ec-bf76-4353fcc3ff97","next_block_id":"31630bb0-caec-11ec-bf76-4353fcc3ff97","block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"31566180-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-18T19:42:43.667Z","updated_at":"2022-05-03T14:20:33.390Z","worksheetId":"31566180-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"}],"318d5000-caec-11ec-bf76-4353fcc3ff97":[{"config":{},"id":"31905d40-caec-11ec-bf76-4353fcc3ff97","name":"Block 1","description":"Description for Block 1","content":"\"-- CREATE ROLE human_resources\"","previous_block_id":"319df1d0-caec-11ec-bf76-4353fcc3ff97","next_block_id":"31982570-caec-11ec-bf76-4353fcc3ff97","block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"318d5000-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-18T20:45:55.590Z","updated_at":"2022-05-03T14:20:33.535Z","worksheetId":"318d5000-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"3194a300-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"What is a role?\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"A role is a container for permissions. Once a role is created we can grant it permissions to access different tables, files and folders within Kinetica.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"You can read more about role management here: https://docs.kinetica.com/7.1/sql/security/#role-management\"}]}]","previous_block_id":null,"next_block_id":"319df1d0-caec-11ec-bf76-4353fcc3ff97","block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"318d5000-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-18T20:50:10.142Z","updated_at":"2022-05-03T14:20:33.556Z","worksheetId":"318d5000-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"31982570-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"Create the engineering role\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Follow the same steps as earlier to create the engineering role using the UI if you on Azure.\"}]}]","previous_block_id":"31905d40-caec-11ec-bf76-4353fcc3ff97","next_block_id":"319abd80-caec-11ec-bf76-4353fcc3ff97","block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"318d5000-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-18T21:08:45.988Z","updated_at":"2022-05-03T14:20:33.574Z","worksheetId":"318d5000-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"319abd80-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"\"-- CREATE ROLE engineering\"","previous_block_id":"31982570-caec-11ec-bf76-4353fcc3ff97","next_block_id":null,"block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"318d5000-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T16:56:24.565Z","updated_at":"2022-05-03T14:20:33.592Z","worksheetId":"318d5000-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"319df1d0-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"Create the human resources role\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"â—ï¸ READ THIS: The SQL statement to create a role is only available for on-premise version of Kinetica. If you are Azure version of Kinetica, roles can only be created using the UI on workbench. Users on all versions of Kinetica can go to Manage > Users & Roles to create a new user human_resources on Azure. Alternatively, if you are on premise, then uncomment the code below to create the roles using SQL.\"}]}]","previous_block_id":"3194a300-caec-11ec-bf76-4353fcc3ff97","next_block_id":"31905d40-caec-11ec-bf76-4353fcc3ff97","block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"318d5000-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T17:03:11.485Z","updated_at":"2022-05-03T14:20:33.619Z","worksheetId":"318d5000-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"}],"31b08f70-caec-11ec-bf76-4353fcc3ff97":[{"config":{},"id":"31b438f0-caec-11ec-bf76-4353fcc3ff97","name":"Block 1","description":"Description for Block 1","content":"\"-- CREATE USER harry WITH password 'tempPass123!'\"","previous_block_id":"31b76d40-caec-11ec-bf76-4353fcc3ff97","next_block_id":"31bc0120-caec-11ec-bf76-4353fcc3ff97","block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"31b08f70-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-18T21:09:03.940Z","updated_at":"2022-05-03T14:20:33.849Z","worksheetId":"31b08f70-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"31b76d40-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"Create users\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"â—ï¸ READ THIS: Use the UI, go to Manage > Users & Roles to create a new user \\\"harry\\\". Alternatively, if you on an on-premise version of Kinetica you, can uncomment the code below to create a new user via SQL.\"}]}]","previous_block_id":null,"next_block_id":"31b438f0-caec-11ec-bf76-4353fcc3ff97","block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"31b08f70-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-18T21:09:09.755Z","updated_at":"2022-05-03T14:20:33.873Z","worksheetId":"31b08f70-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"31bc0120-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"Assign a role\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Once a user is created we can grant them a role, which would automatically give them all the permissions associated with that role.\"}]}]","previous_block_id":"31b438f0-caec-11ec-bf76-4353fcc3ff97","next_block_id":"31bf8390-caec-11ec-bf76-4353fcc3ff97","block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"31b08f70-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-18T21:10:39.853Z","updated_at":"2022-05-03T14:20:33.894Z","worksheetId":"31b08f70-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"31bf8390-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"\"GRANT human_resources TO harry\"","previous_block_id":"31bc0120-caec-11ec-bf76-4353fcc3ff97","next_block_id":"31c35420-caec-11ec-bf76-4353fcc3ff97","block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"31b08f70-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-18T21:11:17.794Z","updated_at":"2022-05-03T14:20:33.914Z","worksheetId":"31b08f70-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"31c35420-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"Follow the same steps as above to create a new user 'bjones' who belongs to engineering.\"}]}]","previous_block_id":"31bf8390-caec-11ec-bf76-4353fcc3ff97","next_block_id":"31c6fda0-caec-11ec-bf76-4353fcc3ff97","block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"31b08f70-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T17:06:06.466Z","updated_at":"2022-05-03T14:20:33.935Z","worksheetId":"31b08f70-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"31c6fda0-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"\"-- CREATE USER bjones WITH password 'Engineer123!'\"","previous_block_id":"31c35420-caec-11ec-bf76-4353fcc3ff97","next_block_id":"31ca31f0-caec-11ec-bf76-4353fcc3ff97","block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"31b08f70-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T17:06:08.834Z","updated_at":"2022-05-03T14:20:33.955Z","worksheetId":"31b08f70-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"31ca31f0-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"\"GRANT engineering TO bjones\"","previous_block_id":"31c6fda0-caec-11ec-bf76-4353fcc3ff97","next_block_id":"31cd8d50-caec-11ec-bf76-4353fcc3ff97","block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"31b08f70-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T17:06:41.760Z","updated_at":"2022-05-03T14:20:33.975Z","worksheetId":"31b08f70-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"31cd8d50-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"ðŸŽ¯ Task - Login as new users\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"1. Try logging out and logging back in using the newly created users harry\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"2. Once you log in you will notice that the schema OurCo or the HR folder that were created the \\\"Create Schema and Directory\\\" sheet are not present for these two users. This is because we haven't given them access yet. We will do so in the next sheet.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"3. Repeat 1 & 2 for bjones\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"4. Log back in as the admin once you have tested the two users to grant permissions in the next sheet.\"}]}]","previous_block_id":"31ca31f0-caec-11ec-bf76-4353fcc3ff97","next_block_id":null,"block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"31b08f70-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T18:10:37.504Z","updated_at":"2022-05-03T14:20:33.994Z","worksheetId":"31b08f70-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"}],"31e9a0d0-caec-11ec-bf76-4353fcc3ff97":[{"config":{},"id":"31ed9870-caec-11ec-bf76-4353fcc3ff97","name":"Block 1","description":"Description for Block 1","content":"\"GRANT SELECT ON TABLE OurCo.Employees (first_name, last_name, HASH(cell_phone), MASK(ssn, 1, 7, '*')) to engineering\"","previous_block_id":"31fe3a40-caec-11ec-bf76-4353fcc3ff97","next_block_id":"32145a50-caec-11ec-bf76-4353fcc3ff97","block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T16:57:58.986Z","updated_at":"2022-05-03T14:20:34.315Z","worksheetId":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"31f0ccc0-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"Grant permissions to a role\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"A role needs to be granted permissions to tables in an entire schema. We want the human resources team to have full access to the OurCo schema.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"You can read more about managing permissions (privileges) here: https://docs.kinetica.com/7.1/sql/security/#privilege-management\"}]}]","previous_block_id":null,"next_block_id":"31f40110-caec-11ec-bf76-4353fcc3ff97","block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T17:01:03.757Z","updated_at":"2022-05-03T14:20:34.335Z","worksheetId":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"31f40110-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"\"-- Grants full permissions to the OurCo schema and all the tables in it\\nGRANT ALL ON OurCo TO human_resources\"","previous_block_id":"31f0ccc0-caec-11ec-bf76-4353fcc3ff97","next_block_id":"31f70e50-caec-11ec-bf76-4353fcc3ff97","block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T17:01:29.274Z","updated_at":"2022-05-03T14:20:34.357Z","worksheetId":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"31f70e50-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"Next let's grant the human_resources role write access to the HR folder so that they can upload csv files for employees and salaries.\"}]}]","previous_block_id":"31f40110-caec-11ec-bf76-4353fcc3ff97","next_block_id":"31fadee0-caec-11ec-bf76-4353fcc3ff97","block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T17:01:47.720Z","updated_at":"2022-05-03T14:20:34.374Z","worksheetId":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"31fadee0-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"\"-- Grants write access to the HR folder on KiFS\\nGRANT WRITE ON HR TO human_resources\"","previous_block_id":"31f70e50-caec-11ec-bf76-4353fcc3ff97","next_block_id":"320e3fd0-caec-11ec-bf76-4353fcc3ff97","block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T17:02:09.931Z","updated_at":"2022-05-03T14:20:34.392Z","worksheetId":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"31fe3a40-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"Column security\",\"bold\":true},{\"text\":\" \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"We want the engineering team to only access the first name, last name, a hash of the cell phone and the last 4 digits of the SSN. We do this with a GRANT statement that picks which columns a role can see. The HASH and MASK functions are a handy way to obfuscate or hide sensitive information.\"}]}]","previous_block_id":"320e3fd0-caec-11ec-bf76-4353fcc3ff97","next_block_id":"31ed9870-caec-11ec-bf76-4353fcc3ff97","block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T17:09:06.511Z","updated_at":"2022-05-03T14:20:34.413Z","worksheetId":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"32016e90-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"\"SHOW SECURITY FOR harry\"","previous_block_id":"3204a2e0-caec-11ec-bf76-4353fcc3ff97","next_block_id":"32078910-caec-11ec-bf76-4353fcc3ff97","block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T17:12:17.868Z","updated_at":"2022-05-03T14:20:34.434Z","worksheetId":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"3204a2e0-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"We can perform a quick gut check using the SHOW SECURITY statement to make sure the permissions have been assigned correctly.\"}]}]","previous_block_id":"320b0b80-caec-11ec-bf76-4353fcc3ff97","next_block_id":"32016e90-caec-11ec-bf76-4353fcc3ff97","block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T17:12:30.562Z","updated_at":"2022-05-03T14:20:34.457Z","worksheetId":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"32078910-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"\"SHOW SECURITY FOR bjones;\"","previous_block_id":"32016e90-caec-11ec-bf76-4353fcc3ff97","next_block_id":"32112600-caec-11ec-bf76-4353fcc3ff97","block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T17:13:30.653Z","updated_at":"2022-05-03T14:20:34.478Z","worksheetId":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"320b0b80-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"\"GRANT SELECT ON TABLE OurCo.Salaries TO engineering WHERE user_id = CURRENT_USER()\"","previous_block_id":"32145a50-caec-11ec-bf76-4353fcc3ff97","next_block_id":"3204a2e0-caec-11ec-bf76-4353fcc3ff97","block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T17:14:50.577Z","updated_at":"2022-05-03T14:20:34.499Z","worksheetId":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"320e3fd0-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"ðŸŽ¯ Task: Log in as harry and load the csv files into tables in Kinetica\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"1. Log in as harry who belongs to HR\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"2. Load the CSV files into HR folder: Now that you the HR role has full access to the HR folder, you can use that to upload the the employees.csv file and the salaries.csv file. Go ahead and do that.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"3. Once the files are in the HR folder they can be loaded into a OurCo.Employees and OurCo.Salaries tables that were defined in the first sheet. Use the import wizard to do that.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"4. Log back in as admin\"}]}]","previous_block_id":"31fadee0-caec-11ec-bf76-4353fcc3ff97","next_block_id":"31fe3a40-caec-11ec-bf76-4353fcc3ff97","block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T18:07:21.495Z","updated_at":"2022-05-03T14:20:34.527Z","worksheetId":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"32112600-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"ðŸŽ¯ Task - Log in as bjones to test column and row security\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"You should be able to see the employees and salaries tables. Confirm that you only able to see the columns you have permissions for and the salary row that corresponds to you.\"}]}]","previous_block_id":"32078910-caec-11ec-bf76-4353fcc3ff97","next_block_id":null,"block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T18:17:38.606Z","updated_at":"2022-05-03T14:20:34.548Z","worksheetId":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"32145a50-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"Row Security\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"We can also use WHERE clauses to restrict the rows that a user can see. For instance, you can restrict access to salary by setting the user id to who ever is the current user. This would only show the rows where the user id in the salaries table corresponds to the username of the current user.\"}]}]","previous_block_id":"31ed9870-caec-11ec-bf76-4353fcc3ff97","next_block_id":"320b0b80-caec-11ec-bf76-4353fcc3ff97","block_type_id":"a9949a1a-14e3-11eb-adc1-0242ac120002","worksheet_id":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-02-25T18:21:47.501Z","updated_at":"2022-05-03T14:20:34.568Z","worksheetId":"31e9a0d0-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"a9949a1a-14e3-11eb-adc1-0242ac120002"}],"6788bd70-caec-11ec-bf76-4353fcc3ff97":[{"config":{},"id":"67965200-caec-11ec-bf76-4353fcc3ff97","name":"Block 1","description":"Description for Block 1","content":"\"DROP SCHEMA IF EXISTS OurCo CASCADE\"","previous_block_id":null,"next_block_id":"ec1d7990-caec-11ec-bf76-4353fcc3ff97","block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"6788bd70-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-05-03T14:22:04.064Z","updated_at":"2022-05-03T14:26:08.415Z","worksheetId":"6788bd70-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"},{"config":{},"id":"ec1d7990-caec-11ec-bf76-4353fcc3ff97","name":"Block","description":"Description for Block","content":"\"DROP DIRECTORY IF EXISTS 'HR'\\nWITH OPTIONS ('recursive' = 'true')\"","previous_block_id":"67965200-caec-11ec-bf76-4353fcc3ff97","next_block_id":null,"block_type_id":"84b9233c-14e3-11eb-adc1-0242ac120002","worksheet_id":"6788bd70-caec-11ec-bf76-4353fcc3ff97","created_at":"2022-05-03T14:25:46.410Z","updated_at":"2022-05-03T14:28:13.733Z","worksheetId":"6788bd70-caec-11ec-bf76-4353fcc3ff97","blockTypeId":"84b9233c-14e3-11eb-adc1-0242ac120002"}]},"vizMap":{"315995d0-caec-11ec-bf76-4353fcc3ff97":[],"315d1840-caec-11ec-bf76-4353fcc3ff97":[],"315ffe70-caec-11ec-bf76-4353fcc3ff97":[],"31630bb0-caec-11ec-bf76-4353fcc3ff97":[],"31664000-caec-11ec-bf76-4353fcc3ff97":[],"3169c270-caec-11ec-bf76-4353fcc3ff97":[],"316d9300-caec-11ec-bf76-4353fcc3ff97":[],"3170a040-caec-11ec-bf76-4353fcc3ff97":[],"31905d40-caec-11ec-bf76-4353fcc3ff97":[],"3194a300-caec-11ec-bf76-4353fcc3ff97":[],"31982570-caec-11ec-bf76-4353fcc3ff97":[],"319abd80-caec-11ec-bf76-4353fcc3ff97":[],"319df1d0-caec-11ec-bf76-4353fcc3ff97":[],"31b438f0-caec-11ec-bf76-4353fcc3ff97":[],"31b76d40-caec-11ec-bf76-4353fcc3ff97":[],"31bc0120-caec-11ec-bf76-4353fcc3ff97":[],"31bf8390-caec-11ec-bf76-4353fcc3ff97":[],"31c35420-caec-11ec-bf76-4353fcc3ff97":[],"31c6fda0-caec-11ec-bf76-4353fcc3ff97":[],"31ca31f0-caec-11ec-bf76-4353fcc3ff97":[],"31cd8d50-caec-11ec-bf76-4353fcc3ff97":[],"31ed9870-caec-11ec-bf76-4353fcc3ff97":[],"31f0ccc0-caec-11ec-bf76-4353fcc3ff97":[],"31f40110-caec-11ec-bf76-4353fcc3ff97":[],"31f70e50-caec-11ec-bf76-4353fcc3ff97":[],"31fadee0-caec-11ec-bf76-4353fcc3ff97":[],"31fe3a40-caec-11ec-bf76-4353fcc3ff97":[],"32016e90-caec-11ec-bf76-4353fcc3ff97":[],"3204a2e0-caec-11ec-bf76-4353fcc3ff97":[],"32078910-caec-11ec-bf76-4353fcc3ff97":[],"320b0b80-caec-11ec-bf76-4353fcc3ff97":[],"320e3fd0-caec-11ec-bf76-4353fcc3ff97":[],"32112600-caec-11ec-bf76-4353fcc3ff97":[],"32145a50-caec-11ec-bf76-4353fcc3ff97":[],"67965200-caec-11ec-bf76-4353fcc3ff97":[],"ec1d7990-caec-11ec-bf76-4353fcc3ff97":[]}}